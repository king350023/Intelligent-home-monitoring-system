<!DOCTYPE html>

<html>
<head> 
	<title>å±…å®¶ç©ºæ°£å±å®³ç›£æ¸¬</title>
	<!-- ä»¥ä¸‹é€™5è¡Œæ˜¯å¼•ç”¨bootstrapåŠjquery CDN (Content Delivery Network)çš„æ¨™æº–å‹•ä½œ -->
	 <meta charset="utf-8"> <!-- æŒ‡å®šå…§æ–‡çš„ç·¨ç¢¼ï¼Œè‹¥è¦é¡¯ç¤ºä¸­æ–‡ï¼Œé€šå¸¸ç”¨utf-8é€™å€‹unicodeç·¨ç¢¼ -->
	 <meta name="viewport" content="width=device-width, initial-scale=1">
	 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	  <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
  <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
	<!-- ä»¥ä¸‹é€™å€‹åŒ¿åå‡½æ•¸æ˜¯jqueryçš„readyäº‹ä»¶è™•ç†æ–¹æ³•ï¼Œç•¶ç¶²é Readyå¥½çš„å°±æœƒè‡ªå‹•åŸ·è¡Œ -->
	<!-- å› æ­¤ï¼Œå¯ä»¥æŠŠè¦è¨»å†Šçš„æ‰€æœ‰äº‹ä»¶è™•ç†å‡½æ•¸åŠéœ€è¦å…ˆåŸ·è¡Œçš„å‘½ä»¤æ”¾åœ¨é€™å€‹å‡½æ•¸å…§ -->

		
 <script src="/socket.io/socket.io.js"></script>
  
  <!-- ä»¥ä¸‹é€™å€‹åŒ¿åå‡½æ•¸æ˜¯jqueryçš„readyäº‹ä»¶è™•ç†æ–¹æ³•ï¼Œç•¶ç¶²é Readyå¥½çš„å°±æœƒè‡ªå‹•åŸ·è¡Œ -->
  <!-- å› æ­¤ï¼Œå¯ä»¥æŠŠè¦è¨»å†Šçš„æ‰€æœ‰äº‹ä»¶è™•ç†å‡½æ•¸åŠéœ€è¦å…ˆåŸ·è¡Œçš„å‘½ä»¤æ”¾åœ¨é€™å€‹å‡½æ•¸å…§ -->
  <script>
  
    
    /*å»ºç«‹Web Socketé€£ç·š*/
    var socket = io.connect();
    
    // è¨»å†Šæ”¶åˆ°å¾Web Socketé€£ç·šé€ä¾†dateäº‹ä»¶éœ€è¦åŸ·è¡Œçš„å·¥ä½œ
   /* socket.on('envdata', function(data) { 
      $('#tem').val(data.temperature); 
      $('#hum').val(data.humidity);
      
    });*/
    
    // è¨»å†Šæ”¶åˆ°å¾Web Socketé€£ç·šé€ä¾†dateäº‹ä»¶éœ€è¦åŸ·è¡Œçš„å·¥ä½œ
    socket.on('currenttime', function(data) {
      $('#time').val(data.date);
    });
    
    $(function(){
			<!-- å¹«idç‚ºbtn11çš„æŒ‰éˆ•æ¨™ç±¤è¨»å†Šäº†é»æ“Šäº‹ä»¶çš„è™•ç†æ–¹æ³• -->
			$('#btn1').click(function(){
				$.post(
					'/control_arduino/2',
					function(data){
						$('#command').val(data.cmd);
						$('#GAS').val(data.value1);
					}
				);
			});


			
			$('#btn2').click(function(){
				$.post(
					'/control_arduino/3',
					function(data){
						$('#command').val(data.cmd);
						$('#CO').val(data.value1);
					}
				);
			});
			
			
			$('#btn3').click(function(){
				$.post(
					'/control_arduino/4',
					function(data){
						$('#command').val(data.cmd);
						$('#temperature').val(data.value1);
						$('#humidity').val(data.value2);
					}
				);
			});
      /*<!-- åœ¨jqueryåŠnodejsé€šå¸¸æœƒä½¿ç”¨åŒ¿åå‡½æ•¸ä½œç‚ºäº‹ä»¶è™•ç†æ–¹æ³•ï¼Œæ¯”è¼ƒç°¡æ½” -->
        <!-- å¹«idç‚ºbtn1çš„æŒ‰éˆ•æ¨™ç±¤è¨»å†Šäº†é»æ“Šäº‹ä»¶çš„è™•ç†æ–¹æ³• -->
      $('#btn4').click(function(){
        $.get(
          '/get_sensors/start',
          function(data){ //é¡¯ç¤ºç›£æ¸¬ç‹€æ…‹è¨Šæ¯
            $('#monitoringstatus').val(data.message);
          }
        );
      });
      
      <!-- å¹«idç‚ºbtn1çš„æŒ‰éˆ•æ¨™ç±¤è¨»å†Šäº†é»æ“Šäº‹ä»¶çš„è™•ç†æ–¹æ³• -->
      $('#btn5').click(function(){
        $.get(
          '/get_sensors/stop',
          function(data){ //é¡¯ç¤ºç›£æ¸¬ç‹€æ…‹è¨Šæ¯
            $('#monitoringstatus').val(data.message);
          }
        );
      });*/
      
      
      <!-- å¹«idç‚ºbtn5çš„æŒ‰éˆ•æ¨™ç±¤è¨»å†Šäº†é»æ“Šäº‹ä»¶çš„è™•ç†æ–¹æ³• -->
      $('#btn8').click(function(){
         window.location.href = '/';
      });
      
    })
  </script>
  <style>
    input {font-size:12px}
  </style>
	</script>
		<style type="text/css">
#TestImg1{
    vertical-align:text-top;
}
	</style>
</head>

<body class="bg-success">
<nav  style="font-family:Microsoft JhengHei">
<div class="container">
	
		

		<h3 class="text-danger"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å±…å®¶ç©ºæ°£å±å®³ç›£æ¸¬</b></h3>
		 <!-- ç”¨ä¾†é¡¯ç¤ºæ—¥æœŸè³‡è¨Šä¹‹å€åŸŸ -->
  <center>
    <h4>
    <label for="time" class="text-primary">ç¾åœ¨æ™‚é–“ï¼š</label>
    <input type="text" id="time" size="20" style="font-size:16px" readonly="true"><br/>
    </h4>
  </center>
    <!-- è®€å–æ™ºæ…§å±‹å®¤å…§æº«ã€æ¿•åº¦å€¼åŠæ°´çš„é…¸é¹¼åº¦UI -->

    
   <!-- <h6>
    <button id="btn4" class="btn btn-danger btn-lg">å•Ÿå‹•ç›£æ¸¬</button>
    <button id="btn5" class="btn btn-danger btn-lg">åœæ­¢ç›£æ¸¬</button><br/>
    <label for="monitoringstatus" class="text-primary">ç’°å¢ƒåƒæ•¸ç›£æ¸¬ç‹€æ…‹ï¼š</label>
    <input type="text" id="monitoringstatus" size="30" style="font-size:16px" readonly="true"><br/>
    <label for="temperature" class="text-primary">æº«åº¦ï¼š</label>
    <input type="text" id="tem" size="6" style="font-size:16px" readonly="true">
    <label for="humidity" class="text-primary">æ¿•åº¦ï¼š</label>
    <input type="text" id="hum" size="6" style="font-size:16px" readonly="true"><br/>
    
    </h6>
 -->



		<h4>
		<label for="leds_status" class="text-primary"><b>æº«åº¦ï¼š</b></label>
		<input type="text" id="temperature" size="8" style="font-size:16px" readonly="true">
		<label for="leds_status" class="text-primary"><b>Â°C</b></label><b>&nbsp;</b>
		<label for="leds_status" class="text-primary"><b>æ¿•åº¦:</b></label>
		<input type="text" id="humidity" size="8" style="font-size:16px" readonly="true">
		<label for="leds_status" class="text-primary"><b>%</b></label><b>&nbsp;</b>
		<b>&nbsp;&nbsp;</b><button id="btn3" class="btn btn-success btn-lg">å³æ™‚è®€å–æº«æº¼åº¦</button><br>
		<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ç•¶æº«åº¦å¤§æ–¼23åº¦ é¢¨æ‰‡æœƒè‡ªå‹•æ‰“é–‹ğŸ”›)</b>
		<br>
	    <p></p><label for="leds_status" class="text-primary"><b>å³æ™‚COæ¿ƒåº¦æª¢æ¸¬&nbsp;&nbsp;&nbsp;&nbsp;</b></label>		
		<input type="text" id="CO" size="8" style="font-size:16px" readonly="true">
		<label for="leds_status" class="text-primary"><b>ppm</b></label><b>&nbsp;</b>
		<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b><button id="btn2" class="btn btn-success btn-lg">å³æ™‚è®€å–COæ¿ƒåº¦</button><br>
		<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ç•¶æ¿ƒåº¦å¤§æ–¼150ppm è­¦å ±å™¨æœƒè‡ªå‹•è­¦ç¤ºğŸ†˜)</b><br>
		<p></p><label for="leds_status" class="text-primary"><b>å³æ™‚GASæ¿ƒåº¦æª¢æ¸¬&nbsp;&nbsp;</b></label>		
		<input type="text" id="GAS" size="8" style="font-size:16px" readonly="true">
		<label for="leds_status" class="text-primary"><b>ppm</b></label><b>&nbsp;</b>
		<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b><button id="btn1" class="btn btn-success btn-lg">å³æ™‚è®€å–GASæ¿ƒåº¦</button><br>
		<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ç•¶æ¿ƒåº¦å¤§æ–¼700ppm è­¦å ±å™¨æœƒè‡ªå‹•è­¦ç¤ºğŸ†˜)</b><br><br>
		<a><img id="TestImg1" align="top" src="/images/87.JPG" class="imgIndex"></a>
		<div style="top:200px;right:100px;position:absolute;">
		<img id="streaming"  width="550" height="350" style="border-style: solid;border-width: 5px 5px 5px 5px" alt="No Video Streaming Available!">
	    </div>
		</div>

		</h4>
<div class="container">
  
 
 
  
  
  <!-- å›é¦–é æŒ‰éˆ• -->

  <!--<center>
  <div> 
    <button id="btn8" class="btn btn-info btn-md"><b>å›é¦–é </b></button>
  </div>
  </center>-->
<script>
	// å»ºç«‹å½±åƒä¸²æµä¼ºæœå™¨ç¶²å€
	// è«‹å°‡æ­¤URLæ”¹ç‚ºhttp://IP_RPi:8000/stream.mjpg';
	// ä¾‹å¦‚IP of PRi = 10.0.2.103ï¼Œå‰‡URL=http://10.0.2.103:8000/stream.mjpg';
	var web_video_streaming_url = 'http://172.20.10.5:8000/stream.mjpg';
	// å–å¾—é¡¯ç¤ºå³æ™‚å½±åƒä¸²æµä¹‹å…ƒç´ (element)
	var streamingelement = document.getElementById("streaming");
	
	// é¡¯ç¤ºå½±åƒä¸²æµå‰¯ç¨‹å¼
	function loadstreaming()
	{
		streamingelement.src = window.web_video_streaming_url;
	}
	
	// ä¸è¦é¡¯ç¤ºå½±åƒä¸²æµå‰¯ç¨‹å¼
	function offloadstreaming()
	{
		streamingelement.src = "";
	}
	
	// è®“ç¶²é è¼‰å…¥æ™‚é¡¯ç¤ºå½±åƒä¸²æµ
	loadstreaming();    
</script>


</html>


